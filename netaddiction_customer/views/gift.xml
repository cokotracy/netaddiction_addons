<?xml version="1.0" encoding="UTF-8"?>
<openerp>
    <data>
        <record model="ir.actions.act_window" id="netaddiction_sales_gift_base">
            <field name="name">Gift</field>
            <field name="res_model">netaddiction.gift</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">Non ci sono Gift.
                </p>
            </field>
        </record>

        <record model="ir.actions.act_window" id="netaddiction_sales_gift_type_base">
            <field name="name">Gift type</field>
            <field name="res_model">netaddiction.gift.type</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">Non ci sono Gift Type.
                </p>
            </field>
        </record>

        <menuitem id="menu_netaddiction_sales_gift"
          name="Gift Menu"
          parent="base.menu_partner_form"
          sequence="30"
        />

        <menuitem id="submenu_netaddiction_sales_gift"
          name="Gift" parent="menu_netaddiction_sales_gift"
          action="netaddiction_sales_gift_base"/>

        <record model="ir.ui.view" id="netaddiction_sales_gift_tree">
            <field name="name">view.netaddiction_sales_gift_tree</field>
            <field name="model">netaddiction.gift</field>
            <field name="arch" type="xml">
                <tree name="Gift list">
                    <field name="value"/>
                    <field name="partner_id"/>
                    <field name="type_id"/>
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="netaddiction_sales_gift_form">
            <field name="name">view.netaddiction_sales_gift_form</field>
            <field name="model">netaddiction.gift</field>
            <field name="arch" type="xml">
                <form string="Gift Form">
                    <sheet>
                        <group string="Gift" name="gift" colspan="4">
                            <group name="loc_left" class="oe_left" col="2">
                                <field name="value"/>
                                <field name="partner_id" domain="[('type','=','contact')]"/>
                                <field name="type_id"/>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <menuitem id="submenu_netaddiction_sales_gift_type"
          name="Tipi di Gift" parent="menu_netaddiction_sales_gift"
          action="netaddiction_sales_gift_type_base"/>

        <record model="ir.ui.view" id="netaddiction_sales_gift_type_tree">
            <field name="name">view.netaddiction_sales_gift_type</field>
            <field name="model">netaddiction.gift.type</field>
            <field name="arch" type="xml">
                <tree name="Gift type list">
                    <field name="reason"/>
                    <field name="priority"/>
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="netaddiction_sales_gift_type_form">
            <field name="name">view.netaddiction_sales_gift_type_form</field>
            <field name="model">netaddiction.gift.type</field>
            <field name="arch" type="xml">
                <form string="Gift Type Form">
                    <sheet>
                        <group string="Gift Type" name="gift type" colspan="4">
                            <group name="loc_left" class="oe_left" col="2">
                                <field name="reason"/>
                                <field name="priority"/>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>


        <record model="ir.ui.view" id="netaddiction_view_customer_new_gift">
            <field name="name">netaddiction.view.customer.new.gift</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="netaddiction_view_partner"/>
            <field name="arch" type="xml">
            <xpath expr="//div[@name='button_box']" position="inside" >
                    <button  class="oe_inline oe_stat_button" name="new_customer_gift" 
                        string="Gift" type="object" icon="fa-gift" attrs="{'invisible':['|',('parent_id', '!=', False),('customer', '=', False)]}"/> 
                </xpath>
            </field>
        </record>



        <record model="ir.ui.view" id="netaddiction_view_order_gift">
            <field name="name">netaddiction.sale.order.gift</field>
            <field name="model">sale.order</field>
            <field name="inherit_id" ref="sale.view_order_form"/>
            <field name="arch" type="xml">

              <xpath expr="//field[@name='amount_tax']"
                    position="after">    
                    <field name="gift_discount"/>
                       
                </xpath> 

            </field>
        </record>


    </data>
</openerp>




